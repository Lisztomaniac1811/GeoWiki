<!DOCTYPE html>
<html>
<head>
	<title>Toggle Background</title>
	<style>
		body {
			background-color: white;
            transition: background-color 0.5s ease;

		}
		body.dark {
			background-color: black;
		}

body[data-theme="dark"] {
  background-color: black;
}
		label.switch {
			display: inline-block;
			position: relative;
			width: 40px;
			height: 24px;
			margin: 10px;
			background-color: #ccc;
			border-radius: 24px;
			cursor: pointer;
		}
		label.switch input {
			display: none;
		}
		label.switch span {
			display: block;
			position: absolute;
			top: 2px;
			left: 2px;
			width: 20px;
			height: 20px;
			border-radius: 50%;
			background-color: white;
			transition: all 0.2s;
		}
		label.switch input:checked + span {
			transform: translateX(16px);
			background-color: black;
		}
	</style>
</head>
<body class="light">
	<label class="switch">
		<input type="checkbox" id="toggle">
		<span></span>
	</label>

	<script>
		const toggleSwitch = document.querySelector('#toggle');
		const currentTheme = localStorage.getItem('theme');

		if (currentTheme) {
			document.documentElement.setAttribute('data-theme', currentTheme);
			if (currentTheme === 'dark') {
				toggleSwitch.checked = true;
				document.body.classList.add('dark');
			}
		}

		function switchTheme(event) {
			if (event.target.checked) {
				document.documentElement.setAttribute('data-theme', 'dark');
				document.body.classList.add('dark');
				localStorage.setItem('theme', 'dark');
			} else {
				document.documentElement.setAttribute('data-theme', 'light');
				document.body.classList.remove('dark');
				localStorage.setItem('theme', 'light');
			}
		}

		toggleSwitch.addEventListener('change', switchTheme, false);
	</script>
</body>
</html>
